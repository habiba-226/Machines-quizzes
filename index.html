<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="media\assembly-line.png" type="image/x-icon">
    <title>reallygreatmachines</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <header>
      <h1>
        <i class="fas fa-cogs"></i> Learn About Machines!
      </h1>
    </header>

    <main>
        <!-- Section 1 -->
        <section class="content">
          <div class="video">
            <video id="video1" width="100%" controls>
                <source src="generator/DC Generator.mp4" type="video/mp4">
                Your browser does not support the video tag.
            </video>
          </div>

          <div class="text">
            <h1>DC Generators</h1>
            <h2>Test Your Knowledge</h2>
            <h3>Before starting the quiz, please watch the short video</h3>
            <button onclick="playVideo('video1')">Play Video</button>
            <form id="quiz-form-1">
              <div class="question">
                <p>1. A DC Generator converts mechanical energy into electrical energy.</p>
                <label><input type="radio" name="q1" value="true"> True</label>
                <label><input type="radio" name="q1" value="false"> False</label>
              </div>

              <div class="question">
                <p>2. DC Generators are only used in vehicles.</p>
                <label><input type="radio" name="q2" value="true"> True</label>
                <label><input type="radio" name="q2" value="false"> False</label>
              </div>

              <div class="question">
                <p>3. A DC generator requires an external source to generate power.</p>
                <label><input type="radio" name="q3" value="true"> True</label>
                <label><input type="radio" name="q3" value="false"> False</label>
              </div>

              <button type="submit">Submit Answers</button>
            </form>

            <div id="result-1"></div>
            <button id="try-again-1" class="hidden">Try Again</button>
          </div>
        </section>

        <!-- Section 2 -->
        <section class="content">
          <div class="text">
            <h1>DC Motors</h1>
            <h2>Test Your Knowledge</h2>
            <h3>Before starting the quiz, please watch the short video</h3>
            <button onclick="playVideo('video2')">Play Video</button>
            <form id="quiz-form-2">
              <div class="question">
                <p>1. A DC motor converts electrical energy into mechanical energy.</p>
                <label><input type="radio" name="q1" value="true"> True</label>
                <label><input type="radio" name="q1" value="false"> False</label>
              </div>

              <div class="question">
                <p>2. DC motors are only used in large industrial machines.</p>
                <label><input type="radio" name="q2" value="true"> True</label>
                <label><input type="radio" name="q2" value="false"> False</label>
              </div>

              <div class="question">
                <p>3. DC motors consist of two main components: the stator and the rotor.</p>
                <label><input type="radio" name="q3" value="true"> True</label>
                <label><input type="radio" name="q3" value="false"> False</label>
              </div>

              <button type="submit">Submit Answers</button>
            </form>

            <div id="result-2"></div>
            <button id="try-again-2" class="hidden">Try Again</button>
          </div>

          <div class="video">
            <video id="video2" width="100%" controls>
                <source src="generator/DC Generator.mp4" type="video/mp4">
                Your browser does not support the video tag.
            </video>
          </div>
        </section>
    </main>

    <footer>
        <p>© 2024 Power & Machines Guide</p>
    </footer>

    <script>
      function playVideo(videoId) {
        let video = document.getElementById(videoId);
        if (video.paused) {
          video.play(); 
        } else {
          video.pause(); 
        }
      }

      // Function to handle quiz submission and reset for any quiz form
      function handleQuizSubmit(quizFormId, resultId, tryAgainBtnId, answers) {
        document.getElementById(quizFormId).addEventListener('submit', function(e) {
          e.preventDefault(); // Prevent form submission

          let resultHTML = '';

          // Loop through all the questions and check the answers
          for (let q in answers) {
            const userAnswer = document.querySelector(`input[name="${q}"]:checked`); // Get selected radio button
            const correctAnswer = answers[q];

            if (userAnswer) {
              if (userAnswer.value === correctAnswer) {
                resultHTML += `<p class="correct">Question ${q.charAt(1)}: Correct! You got it right.</p>`;
              } else {
                resultHTML += `<p class="incorrect">Question ${q.charAt(1)}: Incorrect. The correct answer is ${correctAnswer}.</p>`;
              }
            } else {
              resultHTML += `<p class="incorrect">Question ${q.charAt(1)}: You didn’t answer this question.</p>`;
            }
          }

          // Display the results
          document.getElementById(resultId).innerHTML = resultHTML;

          // Show the Try Again button
          document.getElementById(tryAgainBtnId).classList.remove('hidden');
          // Hide the submit button after submission
          document.querySelector(`#${quizFormId} button[type="submit"]`).classList.add('hidden');
        });

        // Reset the quiz when the Try Again button is clicked
        document.getElementById(tryAgainBtnId).addEventListener('click', function() {
          // Reset all radio buttons
          const radios = document.querySelectorAll(`#${quizFormId} input[type="radio"]`);
          radios.forEach(radio => radio.checked = false);

          // Clear the results
          document.getElementById(resultId).innerHTML = '';

          // Hide the Try Again button and show the Submit button
          document.getElementById(tryAgainBtnId).classList.add('hidden');
          document.querySelector(`#${quizFormId} button[type="submit"]`).classList.remove('hidden');
        });
      }

      // Call the handleQuizSubmit function for quiz 1
      handleQuizSubmit('quiz-form-1', 'result-1', 'try-again-1', {
        q1: 'true',
        q2: 'false',
        q3: 'false'
      })
      handleQuizSubmit('quiz-form-2', 'result-2', 'try-again-2', {
        q1: 'true',
        q2: 'false',
        q3: 'true'
      });
    </script>

</body>
</html>
